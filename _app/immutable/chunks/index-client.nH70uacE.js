import{y as D,S as I,z as r,A as O,B as k,C as M,D as w,E as F,b as l,g as T,a as y,o as L,u as b,w as B,e as K,F as E,l as v,G as g,I as Y,J as j,K as q,t as z,r as h,M as N,N as C}from"./runtime._Nl0Nr-Q.js";import{U as d,h as m,i as U,v as Z,w as G,s as H,g as x,d as J}from"./disclose-version.yC-hIejV.js";function _(e,n=null,s){if(typeof e=="object"&&e!=null&&!D(e)&&!(I in e)){if(r in e){const t=e[r];if(t.t===e||t.p===e)return t.p}const f=B(e);if(f===O||f===k){const t=new Proxy(e,Q);return M(e,r,{value:{s:new Map,v:w(0),a:F(e),p:t,t:e},writable:!0,enumerable:!1}),t}}return e}function A(e,n=1){l(e,e.v+n)}const Q={defineProperty(e,n,s){if(s.value){const f=e[r],t=f.s.get(n);t!==void 0&&l(t,_(s.value,f))}return Reflect.defineProperty(e,n,s)},deleteProperty(e,n){const s=e[r],f=s.s.get(n),t=s.a,i=delete e[n];if(t&&i){const a=s.s.get("length"),o=e.length-1;a!==void 0&&a.v!==o&&l(a,o)}return f!==void 0&&l(f,d),i&&A(s.v),i},get(e,n,s){var i;if(n===r)return Reflect.get(e,r);const f=e[r];let t=f.s.get(n);if(t===void 0&&(!(n in e)||(i=T(e,n))!=null&&i.writable)&&(t=w(_(e[n],f)),f.s.set(n,t)),t!==void 0){const a=y(t);return a===d?void 0:a}return Reflect.get(e,n,s)},getOwnPropertyDescriptor(e,n){const s=Reflect.getOwnPropertyDescriptor(e,n);if(s&&"value"in s){const t=e[r].s.get(n);t&&(s.value=y(t))}return s},has(e,n){var i;if(n===r)return!0;const s=e[r],f=Reflect.has(e,n);let t=s.s.get(n);return(t!==void 0||L!==null&&(!f||(i=T(e,n))!=null&&i.writable))&&(t===void 0&&(t=w(f?_(e[n],s):d),s.s.set(n,t)),y(t)===d)?!1:f},set(e,n,s,f){const t=e[r];let i=t.s.get(n);i===void 0&&(b(()=>f[n]),i=t.s.get(n)),i!==void 0&&l(i,_(s,t));const a=t.a,o=!(n in e);if(a&&n==="length")for(let c=s;c<e.length;c+=1){const u=t.s.get(c+"");u!==void 0&&l(u,d)}if(e[n]=s,o){if(a){const c=t.s.get("length"),u=e.length;c!==void 0&&c.v!==u&&l(c,u)}A(t.v)}return!0},ownKeys(e){const n=e[r];return y(n.v),Reflect.ownKeys(e)}};function p(e,n,s,f=null,t=!1){m&&U();var i=e,a=null,o=null,c=null,u=t?Y:0;K(()=>{if(c===(c=!!n()))return;let R=!1;if(m){const P=i.data===Z;c===P&&(i=G(),H(i),x(!1),R=!0)}c?(a?E(a):a=v(()=>s(i)),o&&g(o,()=>{o=null})):(o?E(o):f&&(o=v(()=>f(i))),a&&g(a,()=>{a=null})),R&&x(!0)},u),m&&(i=J)}function S(e,n){var f;var s=e&&((f=e[r])==null?void 0:f.t);return e===n||s===n}function ee(e={},n,s,f){return j(()=>{var t,i;return q(()=>{t=i,i=(f==null?void 0:f())||[],b(()=>{e!==s(...i)&&(n(e,...i),t&&S(s(...t),e)&&n(null,...t))})}),()=>{z(()=>{i&&S(s(...i),e)&&n(null,...i)})}}),e}function V(e){h===null&&N(),h.l!==null?W(h).m.push(e):C(()=>{const n=b(e);if(typeof n=="function")return n})}function ne(e){h===null&&N(),V(()=>()=>b(e))}function W(e){var n=e.l;return n.u??(n.u={a:[],b:[],m:[]})}export{ne as a,ee as b,p as i,V as o,_ as p};
