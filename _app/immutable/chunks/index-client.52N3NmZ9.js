import{h as u,k as b,b as R,X as x,Y as N,d as O,s as d,Z as y,r as T,_,e as Y,$ as q,a0 as v,a1 as D,O as o,a2 as F,S as L,w as c,a3 as E,a4 as M}from"./runtime.eavbaYGw.js";function C(s,a,t,i=null,n=!1){u&&b();var f=s,e=null,r=null,l=null,S=n?q:0;R(()=>{if(l===(l=!!a()))return;let h=!1;if(u){const A=f.data===x;l===A&&(f=N(),O(f),d(!1),h=!0)}l?(e?y(e):e=T(()=>t(f)),r&&_(r,()=>{r=null})):(r?y(r):i&&(r=T(()=>i(f))),e&&_(e,()=>{e=null})),h&&d(!0)},S),u&&(f=Y)}function k(s,a){return s===a||(s==null?void 0:s[L])===a}function H(s={},a,t,i){return v(()=>{var n,f;return D(()=>{n=f,f=(i==null?void 0:i())||[],o(()=>{s!==t(...f)&&(a(s,...f),n&&k(t(...n),s)&&a(null,...n))})}),()=>{F(()=>{f&&k(t(...f),s)&&a(null,...f)})}}),s}function m(s){c===null&&E(),c.l!==null?w(c).m.push(s):M(()=>{const a=o(s);if(typeof a=="function")return a})}function I(s){c===null&&E(),m(()=>()=>o(s))}function w(s){var a=s.l;return a.u??(a.u={a:[],b:[],m:[]})}export{I as a,H as b,C as i,m as o};
