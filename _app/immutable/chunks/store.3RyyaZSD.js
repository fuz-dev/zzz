import{n as t,o as b,u as f,b as l,U as c,c as i,m as a}from"./runtime._lAnztwU.js";function _(n,u,s){if(n==null)return u(void 0),s&&s(void 0),t;const e=n.subscribe(u,s);return e.unsubscribe?()=>e.unsubscribe():e}function g(n,u,s){let e=s[u];const r=e===void 0;r&&(e={store:null,last_value:null,value:a(c),unsubscribe:t},s[u]=e),(r||e.store!==n)&&(e.unsubscribe(),e.store=n??null,e.unsubscribe=d(n,e.value));const o=l(e.value);return o===c?e.last_value:o}function d(n,u){return n==null?(i(u,void 0),t):_(n,s=>i(u,s))}function p(n,u){return n.set(u),u}function v(n){m(()=>{let u;for(u in n)n[u].unsubscribe()})}function m(n){b(()=>()=>f(n))}export{p as a,g as s,v as u};
