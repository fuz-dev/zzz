import{B as S,S as A,C as r,E as D,F as I,G as k,H as b,I as M,c as l,U as d,g as E,m as R,b as y,J as F,u as m,y as L,K as Y,M as q,N as B,O as T,Q as w,R as g,T as K,o as j,V as C,q as H,W as h,X as O,Y as U}from"./runtime._lAnztwU.js";import{h as Z,g as N,i as z}from"./disclose-version.h0Z-2GrA.js";function _(e,t=!0,i=null,f){if(typeof e=="object"&&e!=null&&!S(e)&&!(A in e)){if(r in e){const s=e[r];if(s.t===e||s.p===e)return s.p}const n=L(e);if(n===D||n===I){const s=new Proxy(e,G);return k(e,r,{value:{s:new Map,v:b(0),a:M(e),i:t,p:s,t:e},writable:!0,enumerable:!1}),s}}return e}function v(e,t=1){l(e,e.v+t)}const G={defineProperty(e,t,i){if(i.value){const f=e[r],n=f.s.get(t);n!==void 0&&l(n,_(i.value,f.i,f))}return Reflect.defineProperty(e,t,i)},deleteProperty(e,t){const i=e[r],f=i.s.get(t),n=i.a,s=delete e[t];if(n&&s){const a=i.s.get("length"),c=e.length-1;a!==void 0&&a.v!==c&&l(a,c)}return f!==void 0&&l(f,d),s&&v(i.v),s},get(e,t,i){var s;if(t===r)return Reflect.get(e,r);const f=e[r];let n=f.s.get(t);if(n===void 0&&(!(t in e)||(s=E(e,t))!=null&&s.writable)&&(n=(f.i?b:R)(_(e[t],f.i,f)),f.s.set(t,n)),n!==void 0){const a=y(n);return a===d?void 0:a}return Reflect.get(e,t,i)},getOwnPropertyDescriptor(e,t){const i=Reflect.getOwnPropertyDescriptor(e,t);if(i&&"value"in i){const n=e[r].s.get(t);n&&(i.value=y(n))}return i},has(e,t){var s;if(t===r)return!0;const i=e[r],f=Reflect.has(e,t);let n=i.s.get(t);return(n!==void 0||F!==null&&(!f||(s=E(e,t))!=null&&s.writable))&&(n===void 0&&(n=(i.i?b:R)(f?_(e[t],i.i,i):d),i.s.set(t,n)),y(n)===d)?!1:f},set(e,t,i,f){const n=e[r];let s=n.s.get(t);s===void 0&&(m(()=>f[t]),s=n.s.get(t)),s!==void 0&&l(s,_(i,n.i,n));const a=n.a,c=!(t in e);if(a&&t==="length")for(let u=i;u<e.length;u+=1){const o=n.s.get(u+"");o!==void 0&&l(o,d)}if(e[t]=i,c){if(a){const u=n.s.get("length"),o=e.length;u!==void 0&&u.v!==o&&l(u,o)}v(n.v)}return!0},ownKeys(e){const t=e[r];return y(t.v),Reflect.ownKeys(e)}};function X(e,t,i,f=null,n=!1){var s=null,a=null,c=null,u=n?K:0;Y(()=>{if(c===(c=!!t()))return;let o=!1;if(Z){const P=e.data===q;c===P&&(B(z),N(!1),o=!0)}c?(s?T(s):s=w(()=>i(e)),a&&g(a,()=>{a=null})):(a?T(a):f&&(a=w(()=>f(e))),s&&g(s,()=>{s=null})),o&&N(!0)},u)}function x(e,t){var f;var i=e&&((f=e[r])==null?void 0:f.t);return e===t||i===t}function $(e,t,i,f){j(()=>{var n,s;return C(()=>{n=s,s=(f==null?void 0:f())||[],m(()=>{e!==i(...s)&&(t(e,...s),n&&x(i(...n),e)&&t(null,...n))})}),()=>{H(()=>{s&&x(i(...s),e)&&t(null,...s)})}})}function J(e){h===null&&O(),h.l!==null?Q(h).m.push(e):U(()=>{const t=m(e);if(typeof t=="function")return t})}function p(e){h===null&&O(),J(()=>()=>m(e))}function Q(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}export{p as a,$ as b,X as i,J as o,_ as p};
