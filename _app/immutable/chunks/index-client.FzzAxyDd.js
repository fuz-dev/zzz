import{b as S,A as h,c as _,B as y,E as k,C as x,D as R,u as o,F as m,S as D,g as l,G as v,I as F}from"./runtime.Vpm65tYy.js";import{h as c,d as N,u as p,v as q,a as B,s as b,b as C}from"./disclose-version.q8KNuFsf.js";function Y(s,a,n,i=null,r=!1){c&&N();var f=s,e=null,t=null,u=null,E=r?k:0;S(()=>{if(u===(u=!!a()))return;let d=!1;if(c){const A=f.data===p;u===A&&(f=q(),B(f),b(!1),d=!0)}u?(e?h(e):e=_(()=>n(f)),t&&y(t,()=>{t=null})):(t?h(t):i&&(t=_(()=>i(f))),e&&y(e,()=>{e=null})),d&&b(!0)},E),c&&(f=C)}function T(s,a){var i;var n=s&&((i=s[D])==null?void 0:i.t);return s===a||n===a}function G(s={},a,n,i){return x(()=>{var r,f;return R(()=>{r=f,f=(i==null?void 0:i())||[],o(()=>{s!==n(...f)&&(a(s,...f),r&&T(n(...r),s)&&a(null,...r))})}),()=>{m(()=>{f&&T(n(...f),s)&&a(null,...f)})}}),s}function I(s){l===null&&v(),l.l!==null?L(l).m.push(s):F(()=>{const a=o(s);if(typeof a=="function")return a})}function H(s){l===null&&v(),I(()=>()=>o(s))}function L(s){var a=s.l;return a.u??(a.u={a:[],b:[],m:[]})}export{H as a,G as b,Y as i,I as o};
