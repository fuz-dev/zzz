import{j as P,S,k as r,o as k,l as O,n as I,r as b,t as F,b as l,g as E,m as w,a as y,v as L,u as m,f as M,w as j,x as R,y as T,z as v,E as q,A as B,B as Y,q as z,C as h,D,F as C}from"./runtime.gOAZ9S7I.js";import{U as d,h as H,H as K,r as U,s as x,f as Z}from"./disclose-version.DoY4awv2.js";function _(e,t=!0,i=null,f){if(typeof e=="object"&&e!=null&&!P(e)&&!(S in e)){if(r in e){const s=e[r];if(s.t===e||s.p===e)return s.p}const n=M(e);if(n===k||n===O){const s=new Proxy(e,G);return I(e,r,{value:{s:new Map,v:b(0),a:F(e),i:t,p:s,t:e},writable:!0,enumerable:!1}),s}}return e}function g(e,t=1){l(e,e.v+t)}const G={defineProperty(e,t,i){if(i.value){const f=e[r],n=f.s.get(t);n!==void 0&&l(n,_(i.value,f.i,f))}return Reflect.defineProperty(e,t,i)},deleteProperty(e,t){const i=e[r],f=i.s.get(t),n=i.a,s=delete e[t];if(n&&s){const a=i.s.get("length"),c=e.length-1;a!==void 0&&a.v!==c&&l(a,c)}return f!==void 0&&l(f,d),s&&g(i.v),s},get(e,t,i){var s;if(t===r)return Reflect.get(e,r);const f=e[r];let n=f.s.get(t);if(n===void 0&&(!(t in e)||(s=E(e,t))!=null&&s.writable)&&(n=(f.i?b:w)(_(e[t],f.i,f)),f.s.set(t,n)),n!==void 0){const a=y(n);return a===d?void 0:a}return Reflect.get(e,t,i)},getOwnPropertyDescriptor(e,t){const i=Reflect.getOwnPropertyDescriptor(e,t);if(i&&"value"in i){const n=e[r].s.get(t);n&&(i.value=y(n))}return i},has(e,t){var s;if(t===r)return!0;const i=e[r],f=Reflect.has(e,t);let n=i.s.get(t);return(n!==void 0||L!==null&&(!f||(s=E(e,t))!=null&&s.writable))&&(n===void 0&&(n=(i.i?b:w)(f?_(e[t],i.i,i):d),i.s.set(t,n)),y(n)===d)?!1:f},set(e,t,i,f){const n=e[r];let s=n.s.get(t);s===void 0&&(m(()=>f[t]),s=n.s.get(t)),s!==void 0&&l(s,_(i,n.i,n));const a=n.a,c=!(t in e);if(a&&t==="length")for(let u=i;u<e.length;u+=1){const o=n.s.get(u+"");o!==void 0&&l(o,d)}if(e[t]=i,c){if(a){const u=n.s.get("length"),o=e.length;u!==void 0&&u.v!==o&&l(u,o)}g(n.v)}return!0},ownKeys(e){const t=e[r];return y(t.v),Reflect.ownKeys(e)}};function X(e,t,i,f=null,n=!1){var s=null,a=null,c=null,u=n?q:0;j(()=>{if(c===(c=!!t()))return;let o=!1;if(H){const N=e.data===K;c===N&&(U(Z),x(!1),o=!0)}c?(s?R(s):s=T(()=>i(e)),a&&v(a,()=>{a=null})):(a?R(a):f&&(a=T(()=>f(e))),s&&v(s,()=>{s=null})),o&&x(!0)},u)}function A(e,t){var f;var i=e&&((f=e[r])==null?void 0:f.t);return e===t||i===t}function $(e={},t,i,f){B(()=>{var n,s;return Y(()=>{n=s,s=(f==null?void 0:f())||[],m(()=>{e!==i(...s)&&(t(e,...s),n&&A(i(...n),e)&&t(null,...n))})}),()=>{z(()=>{s&&A(i(...s),e)&&t(null,...s)})}})}function J(e){h===null&&D(),h.l!==null?Q(h).m.push(e):C(()=>{const t=m(e);if(typeof t=="function")return t})}function p(e){h===null&&D(),J(()=>()=>m(e))}function Q(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}export{p as a,$ as b,X as i,J as o,_ as p};
